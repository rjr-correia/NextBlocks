{"version":3,"file":"repository.min.js","sources":["../src/repository.js"],"sourcesContent":["/**\n *\n * @module      mod_nextblocks/repository\n * @copyright   2025 Rui Correia<rjr.correia@campus.fct.unl.pt>\n * @copyright   based on work by 2024 Duarte Pereira<dg.pereira@campus.fct.unl.pt>\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['core/ajax'], function(ajax) {\n    return {\n        saveWorkspace: function(nextblocksid, saved_workspace, userid = null) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_save_workspace',\n                args: {\n                    nextblocksid: nextblocksid,\n                    saved_workspace: saved_workspace,\n                    userid: userid,\n                },\n            }])[0];\n        },\n\n        submitWorkspace: function(nextblocksid, submitted_workspace, codeString) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_submit_workspace',\n                args: {\n                    nextblocksid: nextblocksid,\n                    submitted_workspace: submitted_workspace,\n                    codeString: codeString,\n                },\n            }])[0];\n        },\n\n        submitReaction: function(nextblocksid, reaction) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_submit_reaction',\n                args: {\n                    nextblocksid: nextblocksid,\n                    reaction: reaction,\n                },\n            }])[0];\n        },\n\n        saveMessage: function(message, userName, nextblocksId, timestamp) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_save_message',\n                args: {\n                    message: message,\n                    userName: userName,\n                    nextblocksId: nextblocksId,\n                    timestamp: timestamp,\n                },\n            }])[0];\n        },\n\n        getMessages: function(messageCount, nextblocksId) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_get_messages',\n                args: {\n                    messageCount: messageCount,\n                    nextblocksId: nextblocksId,\n                },\n            }])[0];\n        }\n    };\n});\n"],"names":["define","ajax","saveWorkspace","nextblocksid","saved_workspace","userid","arguments","length","undefined","call","methodname","args","submitWorkspace","submitted_workspace","codeString","submitReaction","reaction","saveMessage","message","userName","nextblocksId","timestamp","getMessages","messageCount"],"mappings":";;;;;;;AAQAA,mCAAO,CAAC,cAAc,SAASC,MAC3B,MAAO,CACHC,cAAe,SAASC,aAAcC,iBAAgC,IAAfC,OAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC5D,OAAOL,KAAKQ,KAAK,CAAC,CACdC,WAAY,gCACZC,KAAM,CACFR,aAAcA,aACdC,gBAAiBA,gBACjBC,OAAQA,WAEZ,EACP,EAEDO,gBAAiB,SAAST,aAAcU,oBAAqBC,YACzD,OAAOb,KAAKQ,KAAK,CAAC,CACdC,WAAY,kCACZC,KAAM,CACFR,aAAcA,aACdU,oBAAqBA,oBACrBC,WAAYA,eAEhB,EACP,EAEDC,eAAgB,SAASZ,aAAca,UACnC,OAAOf,KAAKQ,KAAK,CAAC,CACdC,WAAY,iCACZC,KAAM,CACFR,aAAcA,aACda,SAAUA,aAEd,EACP,EAEDC,YAAa,SAASC,QAASC,SAAUC,aAAcC,WACnD,OAAOpB,KAAKQ,KAAK,CAAC,CACdC,WAAY,8BACZC,KAAM,CACFO,QAASA,QACTC,SAAUA,SACVC,aAAcA,aACdC,UAAWA,cAEf,EACP,EAEDC,YAAa,SAASC,aAAcH,cAChC,OAAOnB,KAAKQ,KAAK,CAAC,CACdC,WAAY,8BACZC,KAAM,CACFY,aAAcA,aACdH,aAAcA,iBAElB,EACR,EAER"}