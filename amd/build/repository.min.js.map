{"version":3,"file":"repository.min.js","sources":["../src/repository.js"],"sourcesContent":["/**\n *\n * @module      mod_nextblocks/repository\n * @copyright   2025 Duarte Pereira<dg.pereira@campus.fct.unl.pt>\n * @copyright   2025 Rui Correia<rjr.correia@campus.fct.unl.pt>\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['core/ajax'], function(ajax) {\n    return {\n        saveWorkspace: function(nextblocksid, saved_workspace, userid = null) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_save_workspace',\n                args: {\n                    nextblocksid: nextblocksid,\n                    saved_workspace: saved_workspace,\n                    userid: userid,\n                },\n            }])[0];\n        },\n\n        submitWorkspace: function(nextblocksid, submitted_workspace, codeString) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_submit_workspace',\n                args: {\n                    nextblocksid: nextblocksid,\n                    submitted_workspace: submitted_workspace,\n                    codeString: codeString,\n                },\n            }])[0];\n        },\n\n        submitReaction: function(nextblocksid, reaction) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_submit_reaction',\n                args: {\n                    nextblocksid: nextblocksid,\n                    reaction: reaction,\n                },\n            }])[0];\n        },\n\n        saveMessage: function(message, userName, nextblocksId, timestamp) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_save_message',\n                args: {\n                    message: message,\n                    userName: userName,\n                    nextblocksId: nextblocksId,\n                    timestamp: timestamp,\n                },\n            }])[0];\n        },\n\n        getMessages: function(messageCount, nextblocksId) {\n            return ajax.call([{\n                methodname: 'mod_nextblocks_get_messages',\n                args: {\n                    messageCount: messageCount,\n                    nextblocksId: nextblocksId,\n                },\n            }])[0];\n        }\n    };\n});\n"],"names":["define","ajax","saveWorkspace","nextblocksid","saved_workspace","userid","arguments","length","undefined","call","methodname","args","submitWorkspace","submitted_workspace","codeString","submitReaction","reaction","saveMessage","message","userName","nextblocksId","timestamp","getMessages","messageCount"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,MAAAA,+BAAO,CAAC,WAAW,CAAC,EAAE,UAASC,IAAI,EAAE;EACjC,OAAO;AACHC,IAAAA,aAAa,EAAE,UAASC,YAAY,EAAEC,eAAe,EAAiB;AAAA,MAAA,IAAfC,MAAM,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,IAAI,CAAA;AAChE,MAAA,OAAOL,IAAI,CAACQ,IAAI,CAAC,CAAC;AACdC,QAAAA,UAAU,EAAE,+BAA+B;AAC3CC,QAAAA,IAAI,EAAE;AACFR,UAAAA,YAAY,EAAEA,YAAY;AAC1BC,UAAAA,eAAe,EAAEA,eAAe;AAChCC,UAAAA,MAAM,EAAEA,MAAAA;AACZ,SAAA;AACJ,OAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;KACT;IAEDO,eAAe,EAAE,UAAST,YAAY,EAAEU,mBAAmB,EAAEC,UAAU,EAAE;AACrE,MAAA,OAAOb,IAAI,CAACQ,IAAI,CAAC,CAAC;AACdC,QAAAA,UAAU,EAAE,iCAAiC;AAC7CC,QAAAA,IAAI,EAAE;AACFR,UAAAA,YAAY,EAAEA,YAAY;AAC1BU,UAAAA,mBAAmB,EAAEA,mBAAmB;AACxCC,UAAAA,UAAU,EAAEA,UAAAA;AAChB,SAAA;AACJ,OAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;KACT;AAEDC,IAAAA,cAAc,EAAE,UAASZ,YAAY,EAAEa,QAAQ,EAAE;AAC7C,MAAA,OAAOf,IAAI,CAACQ,IAAI,CAAC,CAAC;AACdC,QAAAA,UAAU,EAAE,gCAAgC;AAC5CC,QAAAA,IAAI,EAAE;AACFR,UAAAA,YAAY,EAAEA,YAAY;AAC1Ba,UAAAA,QAAQ,EAAEA,QAAAA;AACd,SAAA;AACJ,OAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;KACT;IAEDC,WAAW,EAAE,UAASC,OAAO,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,SAAS,EAAE;AAC9D,MAAA,OAAOpB,IAAI,CAACQ,IAAI,CAAC,CAAC;AACdC,QAAAA,UAAU,EAAE,6BAA6B;AACzCC,QAAAA,IAAI,EAAE;AACFO,UAAAA,OAAO,EAAEA,OAAO;AAChBC,UAAAA,QAAQ,EAAEA,QAAQ;AAClBC,UAAAA,YAAY,EAAEA,YAAY;AAC1BC,UAAAA,SAAS,EAAEA,SAAAA;AACf,SAAA;AACJ,OAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;KACT;AAEDC,IAAAA,WAAW,EAAE,UAASC,YAAY,EAAEH,YAAY,EAAE;AAC9C,MAAA,OAAOnB,IAAI,CAACQ,IAAI,CAAC,CAAC;AACdC,QAAAA,UAAU,EAAE,6BAA6B;AACzCC,QAAAA,IAAI,EAAE;AACFY,UAAAA,YAAY,EAAEA,YAAY;AAC1BH,UAAAA,YAAY,EAAEA,YAAAA;AAClB,SAAA;AACJ,OAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AACV,KAAA;GACH,CAAA;AACL,CAAC,CAAC"}